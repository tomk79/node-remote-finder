!function e(t,n,i){function a(o,u){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var m=n[o]={exports:{}};t[o][0].call(m.exports,function(e){var n=t[o][1][e];return a(n||e)},m,m.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){window.RemoteFinder=function(e,t){function n(e,n){t.gpiBridge(e,n)}var i=this,a="/",r="";t=t||{},t.gpiBridge=t.gpiBridge||function(){},t.open=t.open||function(e,t){t()},t.mkdir=t.mkdir||function(e,t){var n=prompt("Folder name:");n&&t(n)},t.mkfile=t.mkfile||function(e,t){var n=prompt("File name:");n&&t(n)},t.rename=t.rename||function(e,t){t(e,prompt("Rename from "+e+" to:",e))},t.remove=t.remove||function(e,t){confirm("Really?")&&t()},e.classList.add("remote-finder"),this.open=function(e,n){var i=null;try{e.match(/^[\s\S]*\.([\s\S]+?)$/)&&(i=RegExp.$1.toLowerCase())}catch(e){}var a={path:e,ext:i};t.open(a,function(e){e||n(e)})},this.mkdir=function(e,i){t.mkdir(e,function(t){t&&n({api:"createNewFolder",path:e+t},function(e){e.result||alert(e.message),i()})})},this.mkfile=function(e,i){t.mkfile(e,function(t){t&&n({api:"createNewFile",path:e+t},function(e){e.result||alert(e.message),i()})})},this.rename=function(e,i){t.rename(e,function(e,t){t&&t!=e&&n({api:"rename",path:e,options:{to:t}},function(e){e.result||alert(e.message),i()})})},this.remove=function(e,i){t.remove(e,function(){n({api:"remove",path:e},function(e){e.result||alert(e.message),i()})})},this.getCurrentDir=function(){return a},this.init=function(t,o,u){a=t,u=u||function(){},n({api:"getItemList",path:t,options:o},function(n){if(!n.result)return void alert(n.message);e.innerHTML="";var o=document.createElement("ul");o.classList.add("remote-finder__menu");var u=document.createElement("li"),c=document.createElement("a");c.textContent="New Folder",c.classList.add("remote-finder__ico-new-folder"),c.href="javascript:;",c.addEventListener("click",function(){i.mkdir(a,function(){i.init(a)})}),u.append(c),o.append(u);var u=document.createElement("li"),c=document.createElement("a");c.textContent="New File",c.classList.add("remote-finder__ico-new-file"),c.href="javascript:;",c.addEventListener("click",function(){i.mkfile(a,function(){i.init(a)})}),u.append(c),o.append(u);var u=document.createElement("li"),m=document.createElement("input");m.placeholder="Filter...",m.type="text",m.value=r,m.addEventListener("change",function(){r=this.value,i.init(a)}),u.append(m),o.append(u),e.append(o);var d="",l=1e4,s=document.createElement("ul");s.classList.add("remote-finder__path-bar");var p=t.replace(/^\/+/,"").replace(/\/+$/,"").split("/"),u=document.createElement("li");u.style.zIndex=l,l--;var c=document.createElement("a");c.textContent="/",c.href="javascript:;",c.addEventListener("click",function(){i.init("/")}),u.append(c),s.append(u);for(var f=0;f<p.length;f++)if(p[f].length){var u=document.createElement("li");u.style.zIndex=l,l--;var c=document.createElement("a");c.textContent=p[f],c.href="javascript:;",c.setAttribute("data-filename",p[f]),c.setAttribute("data-path","/"+d+p[f]+"/"),c.addEventListener("click",function(){var e=this.getAttribute("data-path");i.init(e)}),u.append(c),s.append(u),d+=p[f]+"/"}e.append(s);var v=document.createElement("ul");if(v.classList.add("remote-finder__file-list"),"/"!=t&&t){var u=document.createElement("li"),c=document.createElement("a");c.textContent="../",c.href="javascript:;",c.addEventListener("click",function(){var e=t;e=e.replace(/\/(?:[^\/]*\/?)$/,"/"),i.init(e)}),u.append(c),v.append(u)}for(var h in n.list)if(!(r.length&&n.list[h].name.split(r).length<2)){var u=document.createElement("li"),c=document.createElement("a");c.textContent=n.list[h].name,c.href="javascript:;",c.setAttribute("data-filename",n.list[h].name),c.setAttribute("data-path",t+n.list[h].name),$submenu=document.createElement("ul"),$submenu.classList.add("remote-finder__file-list-submenu"),"dir"==n.list[h].type?(c.textContent+="/",c.classList.add("remote-finder__ico-folder"),c.addEventListener("click",function(e){var n=this.getAttribute("data-filename");i.init(t+n+"/")})):"file"==n.list[h].type&&(c.classList.add("remote-finder__ico-file"),c.addEventListener("click",function(e){var t=this.getAttribute("data-path");i.open(t,function(e){})})),n.list[h].writable||c.classList.add("remote-finder__ico-readonly"),$menu=document.createElement("button"),$menu.textContent="rename",$menu.setAttribute("data-filename",n.list[h].name),$menu.addEventListener("click",function(e){e.stopPropagation();var n=this.getAttribute("data-filename");i.rename(t+n,function(){i.init(t)})}),$submenuLi=document.createElement("li"),$submenuLi.append($menu),$submenu.append($submenuLi),$menu=document.createElement("button"),$menu.textContent="delete",$menu.setAttribute("data-filename",n.list[h].name),$menu.addEventListener("click",function(e){e.stopPropagation();var n=this.getAttribute("data-filename");i.remove(t+n,function(){i.init(t)})}),$submenuLi=document.createElement("li"),$submenuLi.append($menu),$submenu.append($submenuLi),c.append($submenu),u.append(c),v.append(u)}e.append(v)})}}},{}]},{},[1]);