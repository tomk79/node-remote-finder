!function e(t,n,i){function r(u,o){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!o&&c)return c(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=n[u]={exports:{}};t[u][0].call(s.exports,function(e){var n=t[u][1][e];return r(n||e)},s,s.exports,e,t,n,i)}return n[u].exports}for(var a="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e,t,n){window.RemoteFinder=function(e,t){function n(e,n){t.gpiBridge(e,n)}var i,r,a=this,u="/",o="";t=t||{},t.gpiBridge=t.gpiBridge||function(){},t.open=t.open||function(e,t){t()},t.mkdir=t.mkdir||function(e,t){var n=prompt("Folder name:");n&&t(n)},t.mkfile=t.mkfile||function(e,t){var n=prompt("File name:");n&&t(n)},t.copy=t.copy||function(e,t){t(e,prompt("Copy from "+e+" to:",e))},t.rename=t.rename||function(e,t){t(e,prompt("Rename from "+e+" to:",e))},t.remove=t.remove||function(e,t){confirm("Really?")&&t()},e.classList.add("remote-finder"),this.open=function(e,n){var i=null;try{e.match(/^[\s\S]*\.([\s\S]+?)$/)&&(i=RegExp.$1.toLowerCase())}catch(e){}var r={path:e,ext:i};t.open(r,function(e){e||n(e)})},this.mkdir=function(e,i){t.mkdir(e,function(t){t&&n({api:"createNewFolder",path:e+t},function(e){e.result||alert(e.message),i()})})},this.mkfile=function(e,i){t.mkfile(e,function(t){t&&n({api:"createNewFile",path:e+t},function(e){e.result||alert(e.message),i()})})},this.copy=function(e,i){t.copy(e,function(e,t){t&&t!=e&&n({api:"copy",path:e,options:{to:t}},function(e){e.result||alert(e.message),i()})})},this.rename=function(e,i){t.rename(e,function(e,t){t&&t!=e&&n({api:"rename",path:e,options:{to:t}},function(e){e.result||alert(e.message),i()})})},this.remove=function(e,i){t.remove(e,function(){n({api:"remove",path:e},function(e){e.result||alert(e.message),i()})})},this.getCurrentDir=function(){return u},this.setCurrentDir=function(c,s){u=c,s=s||function(){},n({api:"getItemList",path:c,options:t},function(t){if(!t.result)return void alert(t.message);i.innerHTML="";var n="",u=1e4,s=c.replace(/^\/+/,"").replace(/\/+$/,"").split("/"),m=document.createElement("li");m.style.zIndex=u,u--;var d=document.createElement("a");d.textContent="/",d.href="javascript:;",d.addEventListener("click",function(){a.setCurrentDir("/")}),m.append(d),i.append(m);for(var l=0;l<s.length;l++)if(s[l].length){var m=document.createElement("li");m.style.zIndex=u,u--;var d=document.createElement("a");d.textContent=s[l],d.href="javascript:;",d.setAttribute("data-filename",s[l]),d.setAttribute("data-path","/"+n+s[l]+"/"),d.addEventListener("click",function(){var e=this.getAttribute("data-path");a.setCurrentDir(e)}),m.append(d),i.append(m),n+=s[l]+"/"}if(e.append(i),r.innerHTML="","/"!=c&&c){var m=document.createElement("li"),d=document.createElement("a");d.textContent="../",d.href="javascript:;",d.addEventListener("click",function(){var e=c;e=e.replace(/\/(?:[^\/]*\/?)$/,"/"),a.setCurrentDir(e)}),m.append(d),r.append(m)}for(var p in t.list)if(!(o.length&&t.list[p].name.split(o).length<2)){var m=document.createElement("li"),d=document.createElement("a");d.textContent=t.list[p].name,d.href="javascript:;",d.setAttribute("data-filename",t.list[p].name),d.setAttribute("data-path",c+t.list[p].name),$submenu=document.createElement("ul"),$submenu.classList.add("remote-finder__file-list-submenu"),"dir"==t.list[p].type?(d.textContent+="/",d.classList.add("remote-finder__ico-folder"),d.addEventListener("click",function(e){var t=this.getAttribute("data-filename");a.setCurrentDir(c+t+"/")})):"file"==t.list[p].type&&(d.classList.add("remote-finder__ico-file"),d.addEventListener("click",function(e){var t=this.getAttribute("data-path");a.open(t,function(e){})})),t.list[p].writable||d.classList.add("remote-finder__ico-readonly"),$menu=document.createElement("button"),$menu.textContent="copy",$menu.classList.add("remote-finder__ico-copy"),$menu.setAttribute("data-filename",t.list[p].name),$menu.addEventListener("click",function(e){e.stopPropagation();var t=this.getAttribute("data-filename");a.copy(c+t,function(){a.setCurrentDir(c)})}),$submenuLi=document.createElement("li"),$submenuLi.append($menu),$submenu.append($submenuLi),$menu=document.createElement("button"),$menu.textContent="rename",$menu.classList.add("remote-finder__ico-rename"),$menu.setAttribute("data-filename",t.list[p].name),$menu.addEventListener("click",function(e){e.stopPropagation();var t=this.getAttribute("data-filename");a.rename(c+t,function(){a.setCurrentDir(c)})}),$submenuLi=document.createElement("li"),$submenuLi.append($menu),$submenu.append($submenuLi),$menu=document.createElement("button"),$menu.textContent="delete",$menu.classList.add("remote-finder__ico-delete"),$menu.setAttribute("data-filename",t.list[p].name),$menu.addEventListener("click",function(e){e.stopPropagation();var t=this.getAttribute("data-filename");a.remove(c+t,function(){a.setCurrentDir(c)})}),$submenuLi=document.createElement("li"),$submenuLi.append($menu),$submenu.append($submenuLi),d.append($submenu),m.append(d),r.append(m)}e.append(r)})},this.init=function(t,n,c){u=t,c=c||function(){};var s=document.createElement("ul");s.classList.add("remote-finder__menu");var m=document.createElement("li"),d=document.createElement("a");d.textContent="New Folder",d.classList.add("remote-finder__ico-new-folder"),d.href="javascript:;",d.addEventListener("click",function(){a.mkdir(u,function(){a.setCurrentDir(u)})}),m.append(d),s.append(m);var m=document.createElement("li"),d=document.createElement("a");d.textContent="New File",d.classList.add("remote-finder__ico-new-file"),d.href="javascript:;",d.addEventListener("click",function(){a.mkfile(u,function(){a.setCurrentDir(u)})}),m.append(d),s.append(m);var m=document.createElement("li"),l=document.createElement("input");l.placeholder="Filter...",l.type="text",l.value=o,l.addEventListener("change",function(){o=this.value,a.setCurrentDir(u)}),m.append(l),s.append(m),e.append(s),i=document.createElement("ul"),i.classList.add("remote-finder__path-bar"),e.append(i),r=document.createElement("ul"),r.classList.add("remote-finder__file-list"),e.append(r),this.setCurrentDir(t,c)}}},{}]},{},[1]);